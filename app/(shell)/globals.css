@import "tailwindcss";

/* ===== Tokens ===== */
:root {
  --font-scale: 1;

  /* Softer light mode */
  --background: #F4F4F5;      /* soft gray */
  --background-alt: #EDEDED;  /* subtle contrast */

  --foreground: #1F2937;      /* slate-800 */
  --muted: #52525B;           /* zinc-600 */
  --border: #E5E7EB;          /* gray-200 */

  /* === Brand Palette (Blue theme) === */
  --brand: #1d4ed8;           /* blue-700 */
  --brand-strong: #1e40af;    /* blue-800 */
  --focus: #2563eb;           /* blue-600 */

  --on-background: #1F2937;
  --on-background-alt: #1F2937;
  --on-brand: #ffffff;
  --on-brand-strong: #ffffff;

  --link: var(--brand);
  --link-hover: var(--focus);

  --wordmark-insan: #0B0B0C;
  --wordmark-one: var(--brand);

  /* Cookie consent colors */
  --cookie-bg: var(--background);
  --cookie-fg: var(--foreground);
  --cookie-border: var(--border);
  --cookie-hover: var(--background-alt);
  --cookie-cta-bg: var(--brand);
  --cookie-cta-fg: #ffffff; /* always white text */

  /* Layout sizing */
  --header-h: 56px;
  --footer-h: 64px;
}

/* ===== Dark Mode ===== */
.dark {
  --background: #0a0a0a;
  --background-alt: #111214;
  --foreground: #ededed;
  --muted: #bdbdbd;
  --border: #374151;

  /* Brighter blues for contrast */
  --brand: #3b82f6;           /* blue-500 */
  --brand-strong: #2563eb;    /* blue-600 */
  --focus: #60a5fa;           /* blue-400 */

  --on-background: #ededed;
  --on-background-alt: #ededed;
  --on-brand: #ffffff;
  --on-brand-strong: #ffffff;

  --wordmark-insan: #ffffff;
  --wordmark-one: var(--brand);

  --cookie-bg: #0f0f10;
  --cookie-fg: #ededed;
  --cookie-border: #374151;
  --cookie-hover: #1a1a1b;
  --cookie-cta-bg: var(--brand);
  --cookie-cta-fg: #ffffff;
}

/* ===== High Contrast Mode ===== */
.hc {
  --background: #000000;
  --background-alt: #000000;
  --foreground: #ffff00;
  --muted: #ffff00;
  --border: #ffff00;
  --brand: #ffff00;
  --brand-strong: #ffffff;
  --focus: #ffff00;

  --on-background: #ffff00;
  --on-background-alt: #ffff00;
  --on-brand: #000000;
  --on-brand-strong: #000000;

  --wordmark-insan: #ffff00;
  --wordmark-one: #ffff00;

  --cookie-bg: #000000;
  --cookie-fg: #ffff00;
  --cookie-border: #ffff00;
  --cookie-hover: #1a1a1a;
  --cookie-cta-bg: #ffff00;
  --cookie-cta-fg: #000000;
}

/* ===== Base ===== */
* {
  box-sizing: border-box;
  transition: background-color .2s ease, color .2s ease, border-color .2s ease;
}

html, body, :root {
  height: 100%;
  min-height: 100%;
  background: var(--background);
  color: var(--on-background);
  font-size: 16px;
}

body {
  min-height: 100dvh;
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
}

#page-scroll {
  height: calc(100dvh - var(--header-h,56px) - var(--footer-h,64px));
  overflow-y: auto;
  overflow-x: hidden;
  direction: ltr;
  scrollbar-gutter: stable both-edges;
  -webkit-overflow-scrolling: touch;
}

header { block-size: var(--header-h, 56px); }
footer { block-size: var(--footer-h, 64px); }
main { overflow-x: clip; }

:focus-visible { outline: 2px solid var(--focus); outline-offset: 2px; }

.skip-link {
  position: fixed; z-index: 100;
  left: -9999px; top: 8px; width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus {
  left: 8px; width: auto; height: auto;
  padding: .5rem .75rem; background: var(--background);
  border: 2px solid var(--focus); border-radius: .5rem;
}

#page-scroll, main, footer { font-size: calc(16px * var(--font-scale)); }

/* ===== Utilities ===== */
@layer utilities {
  .content-reset p,
  .content-reset ul,
  .content-reset ol,
  .content-reset li,
  .content-reset h1,
  .content-reset h2,
  .content-reset h3,
  .content-reset h4,
  .content-reset h5,
  .content-reset h6 {
    display: revert;
    color: inherit;
    margin-block-start: 0;
    margin-block-end: 0;
    padding: 0;
  }

  .content-reset p + p { margin-top: 1rem; }

  .content-reset ul,
  .content-reset ol {
    list-style-position: outside;
    margin-block: 0.75rem;
    padding-inline-start: 1.5rem;
  }

  [dir="rtl"] .content-reset ul,
  [dir="rtl"] .content-reset ol {
    padding-inline-start: 0;
    padding-inline-end: 1.5rem;
  }

  .content-reset li { margin-block: 0.25rem; }

  /* Exclude buttons from link reset */
  .content-reset a:not(.btn):not(.btn-outline) {
    color: var(--link);
    text-decoration: underline;
    text-underline-offset: 2px;
  }
  .content-reset a:not(.btn):not(.btn-outline):hover {
    color: var(--link-hover);
  }

  /* Buttons inside content should not get link underline */
  .content-reset a.btn,
  .content-reset a.btn-outline {
    text-decoration: none;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2;
    background: var(--brand);
    color: var(--on-brand);
    border: 1px solid transparent;
  }
  .btn:hover { background: var(--brand-strong); }
  .btn:focus-visible { outline: 2px solid var(--focus); outline-offset: 2px; }

  .btn-outline {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2;
    background: transparent;
    color: var(--on-background);
    border: 1px solid var(--border);
  }
  .btn-outline:hover { background: var(--background-alt); }
  .btn-outline:focus-visible { outline: 2px solid var(--focus); outline-offset: 2px; }

  /* Links */
  .link {
    color: var(--link);
    text-decoration: underline;
    text-underline-offset: 2px;
  }
  .link:hover { color: var(--link-hover); }

  /* Surfaces */
  .surface       { background: var(--background);     color: var(--on-background); }
  .surface-alt   { background: var(--background-alt); color: var(--on-background-alt); }
  .surface-brand        { background: var(--brand);        color: var(--on-brand); }
  .surface-brand-strong { background: var(--brand-strong); color: var(--on-brand-strong); }
}

/* ===== Media ===== */
img, svg { max-width: 100%; height: auto; display: block; }
